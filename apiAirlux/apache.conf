<VirtualHost *:80>
    ServerName example.local
    DocumentRoot ./

    # Configuration pour les fichiers statiques
    <Directory /var/www/html>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    # Passerelle vers le conteneur PHP
    <FilesMatch \.php$>
        # SetHandler "proxy:unix:/run/php/php7.4-fpm.sock|fcgi://localhost"
        # OU pour un conteneur PHP :
         SetHandler "proxy:fcgi://my-php-app:9000"
    </FilesMatch>

    # Headers pour éviter des problèmes courants avec les proxys
    # <IfModule mod_headers.c>
    #     Header always set X-Frame-Options "SAMEORIGIN"
    #     Header always set X-XSS-Protection "1; mode=block"
    #     Header always set X-Content-Type-Options "nosniff"
    # </IfModule>

    # Activer le répertoire par défaut
    # DirectoryIndex index.php index.html
</VirtualHost>